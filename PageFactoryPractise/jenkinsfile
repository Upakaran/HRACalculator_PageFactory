pipeline {
    agent any 
    stages {
        stage('Compile Stage') { 
            steps {
               withMaven(maven : 'Apache Maven 3.6.1'){
			   echo "maven clean"
               bat "mvn -f ./pom.xml clean compile"
               }
            }
        }
        stage('Testing stage') { 
            steps {
               withMaven(maven : 'Apache Maven 3.6.1'){
			   echo "maven test"
                bat "mvn f ./pom.xml test"
               }
            }
        }
        stage('Deployment stage') { 
            steps {
               withMaven(maven : 'Apache Maven 3.6.1'){
			    echo "maven deploy"
                bat "mvn f ./pom.xml deploy"
               }
            }
        }
    }
}