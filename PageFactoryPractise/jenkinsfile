pipeline {
    agent any 
    stages {
        stage('Compile Stage') { 
            steps {
               withMaven(maven : 'Apache Maven 3.6.1'){
               bat "mvn clean compile"
               }
            }
        }
        stage('Testing stage') { 
            steps {
               withMaven(maven : 'Apache Maven 3.6.1'){
                bat "mvn test"
               }
            }
        }
        stage('Deployment stage') { 
            steps {
               withMaven(maven : 'Apache Maven 3.6.1'){
                bat "mvn deploy"
               }
            }
        }
    }
}